
![image](https://user-images.githubusercontent.com/63236771/125389500-ecbc8000-e3be-11eb-8873-52ff354dc996.png)

## Routing and Switching Protocols - A number of routing and switching protocols are used to implement forwarding. The forwarding function takes place at two different layers:

 - Layer 2 forwarding occurs between nodes on the same local network segment that are all in the same broadcast domain. 
   - At layer 2, each node is identified by the network interface's hardware or Media Access Control (MAC) address. 
 - Layer 3 forwarding, or routing, occurs between both logically and physically defined networks. 
   - A single network divided into multiple logical broadcast domains is said to be subnetted. 
   - Multiple networks joined by routers form an internetwork. 
   - At layer 3, nodes are identified by an Internet Protocol (IP) address.

#### Address Resolution Protocol (ARP) - The Address Resolution Protocol (ARP) maps a network interface's hardware (MAC) address to an IP address. 

#### Internet Protocol (IP) - IP provides the addressing mechanism for logical networks and subnets.

## Routing Protocols -Allows a router to perform dynamic updates to its routing table based on route data exchanged with other routers.
**Some Routing Protocols are:**
### Border Gateway Protocol (BGP) - A path vector routing protocol used by ISPs to establish routing between one another.
### Open Shortest Path First (OSPF) - A link-state routing protocol used on IP networks
### Enhanced Interior Gateway Routing Protocol (EIGRP) - IGRP is a distance vector-based routing protocol using a metric composed of several administrator weighted elements including reliability, bandwidth, delay, and load. E(nhanced)IGRP, the version now in use, supports classless addressing and more efficient route selection.
### Routing Information Protocol (RIP) - A distance vector-based routing protocol that uses a hop count to determine the distance to the destination network. 


## Demilitarized Zone Topologies

### Screened Subnet
 - A screened subnet uses two firewalls placed on either side of the DMZ. 
 - The edge firewall restricts traffic on the external/public interface and allows permitted traffic to the hosts in the DMZ. 
 - The edge firewall can be referred to as the screening firewall or router.
 - The internal firewall filters communications between hosts in the DMZ and hosts on the LAN. 
 - This firewall is often described as the choke firewall. 
 - A choke point is a purposefully narrow gateway that facilitates better access control and easier monitoring.

### Triple-Homed Firewall
 - A DMZ can also be established using one router/firewall appliance with three network interfaces, referred to as triple-homed. One interface is the public one, another is the DMZ, and the third connects to the LAN. 
 - Routing and filtering rules determine what forwarding is allowed between these interfaces. 
 - This can achieve the same sort of configuration as a screened subnet.

## Screened Hosts
 - maller networks may not have the budget or technical expertise to implement a DMZ. 
 - In this case, Internet access can still be implemented using a dual-homed proxy/gateway server acting as a screened host.

## East-West and North-South TrafficL
 - Traffic that goes to and from a data center is referred to as north-south. 
   - This traffic represents clients outside the data center making requests and receiving responses. 
 - In data centers that support cloud and other Internet services, most traffic is actually between servers within the data center. This is referred to as east-west traffic.

## Zero Trust 
**Security design paradigm where any request (host-to-host or container-to-container) must be authenticated before being allowed.**
 - Zero trust is based on the idea that perimeter security is unlikely to be completely robust.
 - Zero trust uses systems such as continuous authentication and conditional access to mitigate privilege escalation and account compromise by threat actors.

# Secure Network Designs
1.A recent security evaluation concluded that your company's network design is too consolidated. Hosts with wildly different functions and purposes are grouped together on the same logical area of the network. In the past, this has enabled attackers to easily compromise large swaths of network hosts. What technique(s) do you suggest will improve the security of the network's design, and why?
 > In general, you should start implementing some form of network segmentation to put hosts with the same security requirements within segregated zones. For example, the workstations in each business department can be grouped in their own subnets to prevent a compromise of one subnet from spreading to another. Likewise, with VLANs, you can more easily manage the logical segmentation of the network without disrupting the physical infrastructure (i.e., devices and cabling).

2.You are discussing a redesign of network architecture with a client, and they want to know what the difference between an extranet and Internet is. How can you explain it?
 > The Internet is an external zone where none of the hosts accessing your services can be assumed trusted or authenticated. An extranet is a zone allowing controlled access to semi-trusted hosts, implying some sort of authentication. The hosts are semi-trusted because they are not under the administrative control of the organization (as they are owned by suppliers, customers, business partners, contractors, and so on).

3.Why is subnetting useful in secure network design?
 > Subnet traffic is routed, allowing it to be filtered by devices such as a firewall. An attacker must be able to gather more information about the configuration of the network and overcome more barriers to launch successful attacks.

4.How can an enterprise DMZ be implemented?
 > By using two firewalls (external and internal) around a screened subnet, or by using a triple-homed firewall (one with three network interfaces).

5.What type of network requires the design to account for east-west traffic?
 > This is typical of a data center or server farm, where a single external request causes multiple cascading requests between servers within the data center. This is a problem for a perimeter security model, as funneling this traffic up to a firewall and then back to a server creates a performance bottleneck.


## Loop Prevention
 - Layer 2 loops are prevented by the Spanning Tree Protocol (STP) - A switching protocol that prevents network loops by dynamically disabling links as needed. 
 - Spanning tree is a means for the bridges to organize themselves into a hierarchy and prevent loops from forming.

### Broadcast Storm Prevention
 - STP is principally designed to prevent 'broadcast storms' - Traffic that is recirculated and amplified by loops in a switching topology, causing network slowdowns and crashing switches. 

### Bridge Protocol Data Unit (BDPU) Guard
 - Switch port security feature that disables the port if it receives BPDU notifications related to spanning tree. 
 - This is configured on access ports where there any BPDU frames are likely to be malicious.

## Network Access Control
 -  Network access control (NAC) products can extend the scope of authentication to allow administrators to devise policies or profiles describing a minimum security configuration that devices must meet to be granted network access. 
 -  This is called a health policy

# Secure Switching and Routing
1.Why might an ARP poisoning tool be of use to a threat actor performing network reconnaissance?
 > The attacker could trick computers into sending traffic through the attacker's computer (performing a MitM/on-path attack) and, therefore, examine traffic that would not normally be accessible to him (on a switched network).

2.How could you prevent a malicious attacker from engineering a switching loop from a host connected to a standard switch port?
 > Enable the appropriate guards (portfast and BPDU Guard) on access ports.

3.What port security feature mitigates ARP poisoning?
 > Dynamic ARP inspection—though this relies upon DHCP snooping being enabled.

4.What is a dissolvable agent?
 > Some network access control (NAC) solutions perform host health checks via a local agent, running on the host. A dissolvable agent is one that is executed in the host's memory and CPU but not installed to a local disk.

## Operational Technology (OT) Attacks 
 - An operational technology (OT) network is established between embedded systems devices and their controllers. 
 - DDoS attacks against the controllers in such networks can use the same techniques as against computer networks. 
 - Also, because of the limited processing ability of some controller types, older DDoS techniques, such as Smurf or Ping of Death, can continue to be effective against embedded systems. 

## DDoS attack mitigation
 - DDoS attacks can be diagnosed by traffic spikes that have no legitimate explanation, but can usually only be counteracted by providing high availability services, such as load balancing and cluster services.
 - In some cases, a stateful firewall can detect a DDoS attack and automatically block the source.
